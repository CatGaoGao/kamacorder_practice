# 20.有效的括号

力扣链接：https://leetcode.cn/problems/valid-parentheses/

---

能有一部分想法，比如奇数肯定错，但今天一直在直接抄思路写

---

**思路：**

1. 首先确定false的情况：奇数、括号顺序不对应、对应的括号数量不对（一是前半段({多了，二是后半段)}多了）
2. 先判断奇数，然后遍历字符串，遇到前半段就把后半段对应的压入栈
3. if条件完成上述，在遍历中同时检查栈是否为空，栈中元素是否对应字符串元素，不满足的都是false 
4. 最后返回栈是否为空的判断，空就true，不空就false

---

## 代码注释版

```cpp
class Solution {
public:
    bool isValid(string s) {
        // 1.s长度为奇数，一定false
        if(s.size() % 2 != 0) return false;

        stack<char> st;
        for(int i = 0; i < s.size(); i++){
            // 遇到前一半，把后一半入栈
            if(s[i] == '(') st.push(')');
            else if(s[i] == '{') st.push('}');
            else if(s[i] == '[') st.push(']');

            // 2.如果在遍历过程中，栈已经为空，false
            // 3.如果括号顺序不对应，false
            else if(st.empty() || st.top() != s[i]) return false;
            
            // 栈顶的元素与s[i]相等，栈弹出元素
            else st.pop();
        }

        // 4.遍历完字符串，若栈不为空，有不对应的，false，为空则true
        return st.empty();
    }
};
```
## 左闭右开版本
每次不取右边界，则右边界下标就是直接取`nums.size()`
